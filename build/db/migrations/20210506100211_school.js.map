{"version":3,"sources":["../../../src/db/migrations/20210506100211_school.js"],"names":["exports","up","knex","schema","createTable","tbl","increments","string","notNullable","unique","text","timestamps","integer","unsigned","references","inTable","onDelete","date","down","dropTableIfExists"],"mappings":"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","sourcesContent":["exports.up = function (knex) {\n  return knex.schema\n    .createTable('schools', (tbl) => {\n      tbl.increments();\n      tbl.string('school_name', 255).notNullable().unique();\n      tbl.string('school_name_short', 255);\n      tbl.text('school_logo');\n      tbl.timestamps(false, true);\n    })\n    .createTable('faculties', (tbl) => {\n      tbl.increments();\n      tbl.string('faculty_name', 255).notNullable();\n      tbl\n        .integer('school_id')\n        .unsigned()\n        .notNullable()\n        .references('id')\n        .inTable('schools')\n        .onDelete('CASCADE');\n      tbl.timestamps(false, true);\n    })\n    .createTable('departments', (tbl) => {\n      tbl.increments();\n      tbl.string('department_name', 255).notNullable();\n      tbl\n        .integer('faculty_id')\n        .unsigned()\n        .notNullable()\n        .references('id')\n        .inTable('faculties')\n        .onDelete('CASCADE');\n      tbl.timestamps(false, true);\n    })\n    .createTable('degrees', (tbl) => {\n      tbl.increments();\n      tbl.string('degree_name', 255).notNullable();\n      tbl.timestamps(false, true);\n    })\n    .createTable('courses', (tbl) => {\n      tbl.increments();\n      tbl.string('course_name', 255).notNullable();\n      tbl\n        .integer('department_id')\n        .unsigned()\n        .notNullable()\n        .references('id')\n        .inTable('departments')\n        .onDelete('CASCADE');\n      tbl\n        .integer('degree_id')\n        .unsigned()\n        .notNullable()\n        .references('id')\n        .inTable('degrees')\n        .onDelete('CASCADE');\n      tbl.string('duration', 255);\n      tbl.string('tuition_fee_local', 255);\n      tbl.string('tuition_fee_int', 255);\n      tbl.string('levy', 255);\n      tbl.string('levy_non_african', 255);\n      tbl.string('local_application_fee_online', 255);\n      tbl.string('local_application_fee_paper', 255);\n      tbl.string('international_application_fee_online', 255);\n      tbl.string('international_application_fee_paper', 255);\n      tbl.string('study_mode_full_time', 255);\n      tbl.string('study_mode_part_time', 255);\n      tbl.string('min_req_local_aps', 255);\n      tbl.string('min_req_local_english', 255);\n      tbl.string('min_req_local_additional_lang', 255);\n      tbl.string('min_req_local_mathematics', 255);\n      tbl.text('min_req_international');\n      tbl.date('application_opening_date');\n      tbl.date('application_closing_date');\n      tbl.string('online_classes', 255);\n      tbl.text('note');\n      tbl.text('hero_image');\n      tbl.timestamps(false, true);\n    });\n};\n\nexports.down = function (knex) {\n  return knex.schema\n    .dropTableIfExists('courses')\n    .dropTableIfExists('degrees')\n    .dropTableIfExists('departments')\n    .dropTableIfExists('faculties')\n    .dropTableIfExists('schools');\n};\n// school short name\n"],"file":"20210506100211_school.js"}