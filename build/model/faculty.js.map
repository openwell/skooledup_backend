{"version":3,"sources":["../../src/model/faculty.js"],"names":["db","require","module","exports","createFaculty","getFacultyById","getAllFaculties","deleteFacultyById","patchFacultyById","getAllFacultiesBySchoolId","data","insert","returning","id","where","first","join","select","del","update"],"mappings":";;AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,cAAD,CAAlB;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,aAAa,EAAbA,aADe;AAEfC,EAAAA,cAAc,EAAdA,cAFe;AAGfC,EAAAA,eAAe,EAAfA,eAHe;AAIfC,EAAAA,iBAAiB,EAAjBA,iBAJe;AAKfC,EAAAA,gBAAgB,EAAhBA,gBALe;AAMfC,EAAAA,yBAAyB,EAAzBA;AANe,CAAjB,C,CASA;;AACA,SAASL,aAAT,CAAuBM,IAAvB,EAA6B;AAC3B,SAAOV,EAAE,CAAC,WAAD,CAAF,CAAgBW,MAAhB,CAAuBD,IAAvB,EAA6BE,SAA7B,CAAuC,GAAvC,CAAP;AACD;;AACD,SAASP,cAAT,CAAwBQ,EAAxB,EAA4B;AAC1B,SAAOb,EAAE,CAAC,WAAD,CAAF,CAAgBc,KAAhB,CAAsB;AAAED,IAAAA,EAAE,EAAFA;AAAF,GAAtB,EAA8BE,KAA9B,EAAP;AACD;;AACD,SAAST,eAAT,GAA2B;AACzB,SAAON,EAAE,CAAC,WAAD,CAAF,CACJgB,IADI,CACC,SADD,EACY,YADZ,EAC0B,GAD1B,EAC+B,qBAD/B,EAEJC,MAFI,CAGH,oBAHG,EAIH,mCAJG,EAKH,+BALG,CAAP;AAOD;;AACD,SAASR,yBAAT,CAAmCI,EAAnC,EAAuC;AACrC,SAAOb,EAAE,CAAC,WAAD,CAAF,CACJc,KADI,CACE,WADF,EACeD,EADf,EAEJG,IAFI,CAEC,SAFD,EAEY,YAFZ,EAE0B,GAF1B,EAE+B,qBAF/B,EAGJC,MAHI,CAIH,oBAJG,EAKH,mCALG,EAMH,+BANG,CAAP;AAQD;;AACD,SAASV,iBAAT,CAA2BM,EAA3B,EAA+B;AAC7B,SAAOb,EAAE,CAAC,WAAD,CAAF,CAAgBc,KAAhB,CAAsB;AAAED,IAAAA,EAAE,EAAFA;AAAF,GAAtB,EAA8BK,GAA9B,EAAP;AACD;;AACD,SAASV,gBAAT,CAA0BK,EAA1B,EAA8BH,IAA9B,EAAoC;AAClC,SAAOV,EAAE,CAAC,WAAD,CAAF,CAAgBc,KAAhB,CAAsB;AAAED,IAAAA,EAAE,EAAFA;AAAF,GAAtB,EAA8BM,MAA9B,CAAqCT,IAArC,EAA2CE,SAA3C,CAAqD,GAArD,CAAP;AACD","sourcesContent":["const db = require('../db/config');\n\nmodule.exports = {\n  createFaculty,\n  getFacultyById,\n  getAllFaculties,\n  deleteFacultyById,\n  patchFacultyById,\n  getAllFacultiesBySchoolId,\n};\n\n// FACULTY\nfunction createFaculty(data) {\n  return db('faculties').insert(data).returning('*');\n}\nfunction getFacultyById(id) {\n  return db('faculties').where({ id }).first();\n}\nfunction getAllFaculties() {\n  return db('faculties')\n    .join('schools', 'schools.id', '=', 'faculties.school_id')\n    .select(\n      'faculties.id as id',\n      'faculties.faculty_name as faculty',\n      'schools.school_name as school'\n    );\n}\nfunction getAllFacultiesBySchoolId(id) {\n  return db('faculties')\n    .where('school_id', id)\n    .join('schools', 'schools.id', '=', 'faculties.school_id')\n    .select(\n      'faculties.id as id',\n      'faculties.faculty_name as faculty',\n      'schools.school_name as school'\n    );\n}\nfunction deleteFacultyById(id) {\n  return db('faculties').where({ id }).del();\n}\nfunction patchFacultyById(id, data) {\n  return db('faculties').where({ id }).update(data).returning('*');\n}\n"],"file":"faculty.js"}